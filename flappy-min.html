// http://github.com/x/Flappy-Bird-1k
<canvas id='e' width=320 height=480 style='border:solid 1px'/><script>function d(b,x,y){return Math.sqrt(Math.pow(35-x,2)+Math.pow(b.y+5-y,2));}var e=document.getElementById('e'),c=e.getContext('2d'),b={y:10,v:0,t:0,},s=0,w=[],i=0,l=0,g=setInterval(function(){if(w.length===0||w[w.length-1].x+20<50){w.push({x:80,h:~~(Math.random()*80),q:false})}if(w[0].x+20<0){w.shift();}b.v+=.025;if(b.t>0){b.t-=0.01;b.v=-0.8;}b.y+=b.v;for(i in w){w[i].x-=0.2;}c.clearRect(0,0,320,480);c.fillText(s,160,64);c.beginPath();c.arc(140,(b.y+5)*4,20,0,2*Math.PI);for(i in w){l=w[i];c.rect(l.x*4,0,80,l.h*4);c.rect(l.x*4,(l.h+40)*4,80,480);}c.stroke();for(i in w){l=w[i];if(((40>l.x&&30<l.x+20)&&(b.y<l.h||b.y+10>l.h+40))||d(b,l.x,l.h)<5||d(b,l.x+20,l.h)<5||d(b,l.x,l.h+40)<5||d(b,l.x+20,l.h+40)<5||b.y>110){clearInterval(g);alert('Game Over');}if(!w[i].q&&w[i].x<40){s+=1;w[i].q=true;}}},10);c.font="bold 64px Arial";window.onkeydown=function(e){if(e.keyCode===32){b.t=0.1;}}</script>
